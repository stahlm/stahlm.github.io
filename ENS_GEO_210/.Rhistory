attr(elmat,"extent"), heightmap = elmat))  %>%
add_shadow(ray_shade(elmat,zscale=50),0.3) %>%
plot_map()
elmat <- matrix(
raster::extract(elev_img, raster::extent(elev_img), buffer = 1000),
nrow = ncol(elev_img), ncol = nrow(elev_img)
)
elev_img
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
#add_overlay(generate_line_overlay(shape_watershed, attr()))  %>%
plot_map()
elmat = raster_to_matrix(elev_img)
elmat <- matrix(
raster::extract(elev_img, raster::extent(elev_img), buffer = 1000),
nrow = ncol(elev_img), ncol = nrow(elev_img)
)
elmat <- raster::as.matrix(
raster::extract(elev_img, raster::extent(elev_img), buffer = 1000),
nrow = ncol(elev_img), ncol = nrow(elev_img)
)
elmat <- raster::as.matrix(
raster::extract(elev_img, raster::extent(elev_img), buffer = 1000),
nrow = ncol(elev_img), ncol = nrow(elev_img)
)
elmat <- raster::as.matrix(elev_img)
attr(a)
View(a)
bbox$p1
bbox$p1[[]]
bbox$p1[]
b <- bbox$p1
b
bottom_left = c(y=-122.366765, x=36.179392)
b <- bbox$p1[1]
b <- bbox$p1[[1]]
b <- bbox$p1[[]]
b <- bbox$p1[[1:2]]
b <- bbox$p1[[2]]
b <- bbox$p1[[1]]
bottom_left <- c(bbox$p1[[1]], bbox$p1[[2]])
bottom_left <- c(bbox$p1[[1]], bbox$p1[[2]])
top_rigth <- c(bbox$p2[[1]], bbox$p2[[2]])
bottom_left <- c(bbox$p1[[1]], bbox$p1[[2]])
top_right <- c(bbox$p2[[1]], bbox$p2[[2]])
top_right
elmat = raster_to_matrix(elev_img)
bottom_left <- c(bbox$p1[[1]], bbox$p1[[2]])
top_right <- c(bbox$p2[[1]], bbox$p2[[2]])
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84"))
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = crs(elev_img)
crs(elmat) <- ""+proj=longlat +ellps=WGS84 +datum=WGS84""
crs(elmat) <- "+proj=longlat +ellps=WGS84 +datum=WGS84"
raster::crs(elmat) <- "+proj=longlat +ellps=WGS84 +datum=WGS84"
crs(elev_img)
raster::crs(elev_img)
raster::crs(elev_img) <- "+proj=longlat +ellps=WGS84 +datum=WGS84"
elmat = raster_to_matrix(elev_img)
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84"))
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = crs(elev_img)
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "rayshader_data") = TRUE
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_contour_overlay(elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_line_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
bottom_left <- c(y = bbox$p1[[1]],x= bbox$p1[[2]])
top_right <- c(y = bbox$p2[[1]], x= bbox$p2[[2]])
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84"))
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "rayshader_data") = TRUE
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_line_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat = raster_to_matrix(elev_img)
bottom_left <- c(y = bbox$p1[[1]],x= bbox$p1[[2]])
top_right <- c(y = bbox$p2[[1]], x= bbox$p2[[2]])
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84"))
raster::crs(elev_img)
sf::st_crs(shape_watershed)
elev_img
raster::crs(elev_img) <- "+proj=longlat +ellps=WGS84 +datum=WGS84"
elev_img
elmat = raster_to_matrix(elev_img)
bottom_left <- c(y = bbox$p1[[1]],x= bbox$p1[[2]])
top_right <- c(y = bbox$p2[[1]], x= bbox$p2[[2]])
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84"))
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "rayshader_data") = TRUE
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_line_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
shape_watershed = sf::st_crop(shape_watershed, attr(elmat,"extent"))
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_line_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
shape_watershed = sf::st_crop(shape_watershed, attr(elmat,"extent"))
shape_watershed = sf::st_crop(shape_watershed, attr(elev_img,"extent"))
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_line_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat = raster_to_matrix(elev_img)
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "rayshader_data") = TRUE
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=raster::crs("+proj=longlat +ellps=WGS84 +datum=WGS84"))
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "rayshader_data") = TRUE
shape_watershed = sf::st_crop(shape_watershed, attr(elev_img,"extent"))
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_line_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
raster::plot(raster_elev_LK)
elmat = raster_to_matrix(elev_img)
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_contour_overlay(elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat = raster_to_matrix(raster_elev_LK)
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
#add_overlay(generate_contour_overlay(elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
raster::crs(elev_img) <- "+proj=longlat +ellps=WGS84 +datum=WGS84"
elmat = raster_to_matrix(elev_img)
bottom_left <- c(y = bbox$p1[[1]],x= bbox$p1[[2]])
top_right <- c(y = bbox$p2[[1]], x= bbox$p2[[2]])
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=raster::crs("+proj=longlat +ellps=WGS84 +datum=WGS84"))
extent_latlong = sp::SpatialPoints(rbind(bottom_left, top_right),
proj4string=sp::CRS("+proj=longlat +ellps=WGS84 +datum=WGS84"))
attr(elmat, "extent") = extent_latlong
attr(elmat, "crs") = raster::crs(elev_img)
attr(elmat, "rayshader_data") = TRUE
shape_watershed = sf::st_crop(shape_watershed, attr(elev_img,"extent"))
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,
attr(elmat,"extent"), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,
extent = raster::extent(elev_img), heightmap = elmat))  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.7)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.7, linecolor = "blue")  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,  linecolor = "blue",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.7)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,  linecolor = "blue", fillcolor = "none",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.7)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,  linecolor = "blue", fill = "none",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.7)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,  linecolor = "blue",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.1)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,  linecolor = "blue",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.3)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,  linecolor = "blue",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.5)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(sunangle = 315, texture = "bw") %>%
add_overlay(generate_polygon_overlay(shape_watershed,  linecolor = "blue",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.7)  %>%
#add_water(detect_water(elmat),color="imhof3") %>%
plot_map()
elmat %>%
sphere_shade(texture = "imhof4") %>%
#add_water(detect_water(elmat), color = "blue") %>%
add_shadow(ray_shade(elmat, zscale = 3), 0.5) %>%
add_shadow(ambient_shade(elmat), 0) %>%
add_overlay(generate_polygon_overlay(shape_watershed,
linecolor = "blue",
extent = raster::extent(elev_img), heightmap = elmat),
alphalayer=0.7)  %>%
plot_3d(elmat, zscale = 1, fov = 0, theta = -30, zoom = 0.75, phi = 45, windowsize = c(1000, 800))
Sys.sleep(0.2)
#render_depth(focus = 0.6, focallength = 10, clear = TRUE)
render_snapshot(clear=TRUE)
x_vec <- seq(1,100)
x_vec <- seq(1,100)
x_vec <- seq(1,100)
x_vec <- seq(1,100)
y_vec <- seq(1,100)
a <- seq(1,5)
rep(a,5)
rep(a,times = 5)
rep(a,each = 5)
y_mat <- rep(y_vec, each = 100)
x_mat <- rep(x_vec, times = 100)
library(tidyverse)
mat_coords <- as_tibble(x = x_mat, y = y_mat)
mat_coords <- tibble(x = x_mat, y = y_mat)
View(mat_coords)
volcano
a<-volcano
View(a)
a <- as.matrix(y_mat, nrow = 100, ncol = 1)
View(a)
a <- as.matrix(y_mat, nrow = 100, ncol = 100)
View(a)
a <- matrix(y_mat, nrow = 100, ncol = 100)
a <- matrix(y_mat, nrow = 100, ncol = 100, byrow = T)
mat_coords %>%
ggplot(aes(x = x, y = y, z = y)) +
geom_contour()
mat_coords %>%
ggplot(aes(x = x, y = y, z = y*x)) +
geom_contour()
library(tidyverse)
library(rayshader)
mat_coords %>%
ggplot(aes(x = x, y = y, z = y*x)) +
geom_contour_filled()
fig_1 <- mat_coords %>%
ggplot(aes(x = x, y = y, z = y*x)) +
geom_contour_filled()
fig_1
plot_gg(fig_1,multicore=TRUE,width=5,height=5,scale=250)
fig_1 <- mat_coords %>%
ggplot(aes(x = x, y = y, color = y*x)) +
geom_contour_filled()
fig_1
fig_1 <- mat_coords %>%
ggplot(aes(x = x, y = y, color = y*x)) +
geom_raster()
fig_1
fig_1 <- mat_coords %>%
ggplot(aes(x = x, y = y, fill = y*x)) +
geom_raster()
fig_1
plot_gg(fig_1,multicore=TRUE,width=5,height=5,scale=250)
mat_coords <- tibble(x = x_mat, y = y_mat, w1_dist = ((well_1_loc[1] - x)^2 + (well_1_loc[2] - y)^2)^0.5)
well_1_loc <- c(50, 50) # x and y coords
mat_coords <- tibble(x = x_mat, y = y_mat, w1_dist = ((well_1_loc[1] - x)^2 + (well_1_loc[2] - y)^2)^0.5)
((49^2)*2)^0.5
x_vec <- seq(0.5,y_length)
y_length <- 100
x_length <- y_length
x_vec <- seq(0.5,y_length)
x_vec
x_vec <- seq(0,y_length)
x_vec
library(tidyverse)
library(rayshader)
library(stars)
library(tmap)
library(plot3D)
volcano_elev <- volcano
persp3D(z = Volcano, contour = list(side = c("zmax", "z")), zlim= c(90, 300),
phi = 30, theta = 20, d = 10, box = FALSE)
persp3D(z = volcano_elev, contour = list(side = c("zmax", "z")), zlim= c(90, 300),
phi = 30, theta = 20, d = 10, box = FALSE)
filled.contour(volcano, color.palette = terrain.colors, asp = 1)
View(volcano_elev)
persp3D(z = volcano_elev, contour = list(side = c("zmax", "z")), zlim= c(90, 300),
phi = 30, theta = 20, d = 10, box = FALSE)
knitr::opts_chunk$set(warning=FALSE, message=FALSE, echo = F)
library(tidyverse)
library(rayshader)
library(stars)
library(tmap)
library(plot3D)
volcano_elev <- volcano
filled.contour(volcano, color.palette = terrain.colors, asp = 1)
image2D(Volcano, contour = TRUE)
image2D(volcano_elev, contour = TRUE)
image2D(volcano_elev, contour = TRUE, col = terrain.colors)
image2D(volcano_elev, contour = TRUE, col = "terrain.colors")
image2D(volcano_elev, contour = TRUE, col = "black")
image2D(volcano_elev, contour = TRUE, col = hcl.colors(100, "terrain") )
persp3D(z = volcano_elev, contour = list(side = c("zmax", "z")), zlim= c(90, 300),
col = hcl.colors(100, "terrain"),
phi = 30, theta = 20, d = 10, box = FALSE)
image2D(volcano_elev, contour = F, col = hcl.colors(100, "terrain") )
image2D(volcano_elev, contour = F, col = hcl.colors(100, "terrain") ) + coord_equal()
library(rayshader)
volcano_elev %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano_elev,zscale=3),0.3) %>%
plot_3d(volcano, zscale=3, fov=30)
library(rayshader)
volcano_elev %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano_elev,zscale=3),0.3) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 2))  %>%
plot_3d(volcano, zscale=3, fov=30)
library(rayshader)
volcano_elev %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano_elev,zscale=3),0.3) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 1))  %>%
plot_3d(volcano, zscale=3, fov=30)
library(rayshader)
volcano_elev %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano_elev,zscale=3),0.3) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 1))  %>%
plot_3d(volcano, zscale=3, fov=30)
library(rayshader)
volcano_elev %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano_elev,zscale=3),0.3) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.5)  %>%
plot_3d(volcano, zscale=3, fov=30)
library(rayshader)
volcano_elev %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano_elev,zscale=3),0.3) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.5))  %>%
plot_3d(volcano, zscale=3, fov=30)
volcano_elev %>%
sphere_shade(texture = "imhof4") %>%
add_shadow(ray_shade(volcano_elev, zscale = 3), 0.5) %>%
add_shadow(ambient_shade(volcano_elev), 0) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 2))  %>%
plot_3d(volcano_elev, zscale = 1, fov = 0, theta = -30, zoom = 0.75, phi = 45, windowsize = c(1000, 800))
Sys.sleep(0.2)
#render_depth(focus = 0.6, focallength = 10, clear = TRUE)
render_snapshot(clear=TRUE)
volcano_elev %>%
sphere_shade(texture = "imhof4") %>%
add_shadow(ray_shade(volcano_elev, zscale = 3), 0.5) %>%
add_shadow(ambient_shade(volcano_elev), 0) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.2))  %>%
plot_3d(volcano_elev, zscale = 1, fov = 0, theta = -30, zoom = 0.75, phi = 45, windowsize = c(1000, 800))
Sys.sleep(0.2)
#render_depth(focus = 0.6, focallength = 10, clear = TRUE)
render_snapshot(clear=TRUE)
volcano_elev %>%
sphere_shade(texture = "imhof4") %>%
add_shadow(ray_shade(volcano_elev, zscale = 3), 0.5) %>%
add_shadow(ambient_shade(volcano_elev), 0) %>%
add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.2))  %>%
plot_3d(volcano_elev, zscale = 1, fov = 0, theta = -30, zoom = 0.75, phi = 45, windowsize = c(1000, 800))
Sys.sleep(0.2)
#render_depth(focus = 0.6, focallength = 10, clear = TRUE)
render_snapshot(clear=TRUE)
volcano_elev %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano_elev,zscale=3),0.3) %>%
#add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.5))  %>%
plot_3d(volcano, zscale=3, fov=30)
rgl::rglwidget()
rgl::rgl.close()
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
geom_contour_fill() +
geom_contour(color = "black", size = 0.1)
library(tidyverse)
library(rayshader)
library(stars)
library(tmap)
library(plot3D)
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
geom_contour_fill() +
geom_contour(color = "black", size = 0.1)
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
#geom_contour_fill() +
geom_contour(color = "black", size = 0.1)
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
geom_raster(surface, aes(Var1, Var2, z = value)) +
geom_contour(color = "black", size = 0.1)
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
geom_raster() +
geom_contour(color = "black", size = 0.1)
View(surface)
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
geom_raster(aes(Var1, Var2, fill = value)) +
geom_contour(color = "black", size = 0.1)
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
geom_raster(aes(Var1, Var2, fill = value)) +
scale_fill_gradientn(colours = terrain.colors(10)) +
geom_contour(color = "black", size = 0.1)
surface <- reshape2::melt(volcano)
ggplot(surface, aes(Var1, Var2, z = value)) +
geom_raster(aes(Var1, Var2, fill = value)) +
scale_fill_gradientn(colours = terrain.colors(20)) +
geom_contour(color = "black", size = 0.1)
surface <- reshape2::melt(volcano)
plot_volcano_3D <- ggplot(surface, aes(Var1, Var2, z = value)) +
geom_raster(aes(Var1, Var2, fill = value)) +
scale_fill_gradientn(colours = terrain.colors(20))
rayshader::plot_gg(plot_volcano_3D , max_error = 0.005,
multicore=TRUE,
width=7,height=7,scale=200)
rgl::rglwidget()
rgl::rgl.close()
rayshader::plot_gg(plot_volcano_3D , max_error = 0.005,
multicore=TRUE,
width=7,height=7,scale=600)
rgl::rglwidget()
rgl::rgl.close()
volcano %>%
sphere_shade() %>%
add_shadow(ray_shade(volcano,zscale=3),0.3) %>%
#add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.5))  %>%
plot_3d(volcano, zscale=3, fov=30)
rgl::rglwidget()
rgl::rgl.close()
volcano %>%
sphere_shade(texture = "bw") %>%
add_shadow(ray_shade(volcano,zscale=3),0.3) %>%
#add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.5))  %>%
plot_3d(volcano, zscale=3, fov=30)
rgl::rglwidget()
rgl::rgl.close()
volcano %>%
sphere_shade(texture = "desert") %>%
add_shadow(ray_shade(volcano,zscale=3),0.3) %>%
#add_overlay(generate_contour_overlay(volcano_elev, linewidth = 0.5))  %>%
plot_3d(volcano, zscale=3, fov=30)
rgl::rglwidget()
rgl::rgl.close()
persp3D(z = volcano, contour = list(side = c("zmax", "z")), zlim= c(90, 300),
col = hcl.colors(100, "terrain"),
phi = 30, theta = 20, d = 10, box = FALSE)
