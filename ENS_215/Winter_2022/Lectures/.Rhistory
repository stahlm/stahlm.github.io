library(tidyverse)
library(lubridate)
## Load in data
met_data <- read_csv('http://stahlm.github.io/ENS_215/Data/Blue_Hills_MA_Precip_Temp_Data_1.csv')
met_data <- mutate(met_data,DATE = parse_date_time(DATE,"mdy")) # convert date into computable format
met_data <- select(met_data,-c(TOBS)) # remove the TOBS column, since we won't use it
View(met_data)
head(met_data) # shows us the first few rows and provides info about data types
tail(met_data) # shows us the last few rows and provides info about data types
tail(met_data) # shows us the last few rows and provides info about data types
summary(met_data)
library(tidyverse)
library(lubridate)
library(plotly)
state_temps <- read_csv("https://stahlm.github.io/ENS_215/Data/NOAA_State_Temp_Lab_Data.csv")
fig_1<- state_temps %>%
filter(state_cd == "CA") %>%
ggplot(aes(x = factor(Month), y = Avg_Temp_F)) +
geom_boxplot() +
theme_classic() +
labs(title = "CA Monthly temperatures",
x = "Month",
y = "Temperature (F)")
fig_1
ggplotly(fig_1)
mauna_loa <- read_csv("https://stahlm.github.io/ENS_215/Data/Mauna_Loa_CO2.csv", skip = 2)
library(gganimate)
fig_mauna_loa <- mauna_loa %>%
filter(Year >= 1980) %>%
ggplot(aes(x = Month, y = CO2_ppm, group = Year, color = Year)) +
geom_line() +
scale_color_gradient(low = "blue", high = "red") +
theme_classic() +
labs(title = "Atmospheric CO2",
subtitle = "Year: {frame_time}",
x = "Month",
y = "CO2 (ppm)",
caption = "Data source: NOAA/ESRL") +
scale_x_continuous(breaks = seq(1:12))
fig_mauna_loa
fig_mauna_loa + transition_time(Year)
library(gapminder)
library(gapminder)
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~continent) +
# Here comes the gganimate specific bits
labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +
transition_time(year) +
ease_aes('linear')
install.packages("Rcpp")
library(tidyverse)
library(lubridate)
fig_mauna_loa <- mauna_loa %>%
filter(Year >= 1980) %>%
ggplot(aes(x = Month, y = CO2_ppm, group = Year, color = Year)) +
geom_line() +
scale_color_gradient(low = "blue", high = "red") +
theme_classic() +
labs(title = "Atmospheric CO2",
subtitle = "Year: {frame_time}",
x = "Month",
y = "CO2 (ppm)",
caption = "Data source: NOAA/ESRL") +
scale_x_continuous(breaks = seq(1:12))
fig_mauna_loa
fig_mauna_loa + transition_time(Year)
library(gganimate)
fig_mauna_loa <- mauna_loa %>%
filter(Year >= 1980) %>%
ggplot(aes(x = Month, y = CO2_ppm, group = Year, color = Year)) +
geom_line() +
scale_color_gradient(low = "blue", high = "red") +
theme_classic() +
labs(title = "Atmospheric CO2",
subtitle = "Year: {frame_time}",
x = "Month",
y = "CO2 (ppm)",
caption = "Data source: NOAA/ESRL") +
scale_x_continuous(breaks = seq(1:12))
fig_mauna_loa
fig_mauna_loa <- mauna_loa %>%
filter(Year >= 1980) %>%
ggplot(aes(x = Month, y = CO2_ppm, group = Year, color = Year)) +
geom_line() +
scale_color_gradient(low = "blue", high = "red") +
theme_classic() +
labs(title = "Atmospheric CO2",
subtitle = "Year: {frame_time}",
x = "Month",
y = "CO2 (ppm)",
caption = "Data source: NOAA/ESRL") +
scale_x_continuous(breaks = seq(1:12))
fig_mauna_loa
fig_mauna_loa + transition_time(Year)
library(gapminder)
ggplot(gapminder, aes(gdpPercap, lifeExp, size = pop, colour = country)) +
geom_point(alpha = 0.7, show.legend = FALSE) +
scale_colour_manual(values = country_colors) +
scale_size(range = c(2, 12)) +
scale_x_log10() +
facet_wrap(~continent) +
# Here comes the gganimate specific bits
labs(title = 'Year: {frame_time}', x = 'GDP per capita', y = 'life expectancy') +
transition_time(year) +
ease_aes('linear')
fig_mauna_loa_ts <- mauna_loa %>%
ggplot(aes(x = make_date(Year, Month, 15), y = CO2_ppm)) +
geom_line(size = 1) +
theme_bw() +
labs(title = expression("Atmospheric CO"[2]),
subtitle = "Measured at Mauna Loa, Hawaii",
x = "",
y = expression("CO"[2]* " (ppm)"),
caption = "Data source: NOAA/ESRL")
fig_mauna_loa_ts
fig_mauna_loa_ts + transition_reveal(make_date(Year, Month, 15)) # create the animation
fig_mauna_loa + transition_reveal(Year)
fig_mauna_loa <- mauna_loa %>%
filter(Year >= 1980) %>%
ggplot(aes(x = Month, y = CO2_ppm, group = Year, color = Year)) +
geom_line() +
scale_color_gradient(low = "blue", high = "red") +
theme_classic() +
labs(title = "Atmospheric CO2",
subtitle = "Year: {frame_along}",
x = "Month",
y = "CO2 (ppm)",
caption = "Data source: NOAA/ESRL") +
scale_x_continuous(breaks = seq(1:12))
fig_mauna_loa
fig_mauna_loa + transition_reveal(Year)
library(rnaturalearth)
a <- rnaturalearth::ne_countries(continent = "antarctica")
a <- rnaturalearth::ne_countries(continent = "antarctica", returnclass = "sf")
library(sf)
library(tmap)
tm_shape(a) +tm_borders()
tm_shape(a) +tm_polygons()
View(a)
library(sf)
tm_shape(a) +tm_polygons()
a <- rnaturalearth::ne_countries(continent = "africa", returnclass = "sf")
tm_shape(a) +tm_polygons()
a <- rnaturalearth::ne_countries(country = "antarctica", returnclass = "sf")
tm_shape(a) +tm_polygons()
vignette('what-is-a-country', package='rnaturalearth')
library(sp)
tm_shape(a) +tm_polygons()
tm_shape(a) +tm_lines()
world <- ne_countries(scale = "high", returnclass = "sf")
world <- ne_countries(scale = "large", returnclass = "sf")
View(world)
antarc <- world %>% filter(sovereignt == "Antarctica")
tm_shape(antarc) + tm_borders()
world <- ne_countries(scale = "large", returnclass = "sf")
library(tidyverse)
library(rnaturalearth)
library(sf)
library(tmap)
world <- ne_countries(scale = "large", returnclass = "sf")
antarc <- world %>% filter(sovereignt == "Antarctica")
tm_shape(antarc) + tm_borders()
