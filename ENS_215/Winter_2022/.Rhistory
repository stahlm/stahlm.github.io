tm_raster(style = "cont", midpoint = NA, palette = terrain.colors(10)) +
tm_shape(borders_hires) +
tm_borders() +
tm_shape(sf_rivers) +
tm_lines(col = "blue") +
tm_shape(sf_airports) +
tm_dots(col = "red", size = 0.5) +
tm_layout(legend.outside = T, frame = F)
tm_shape(raster_elev) +
tm_raster(style = "cont", midpoint = NA, palette = terrain.colors(10)) +
tm_shape(borders_hires) +
tm_borders() +
tm_shape(sf_rivers) +
tm_lines(col = "blue") +
tm_shape(sf_airports) +
tm_dots(col = "red", size = 0.2) +
tm_layout(legend.outside = T, frame = F)
borders_hires <- rnaturalearth::ne_countries(country = "Vietnam", scale = "large", returnclass = "sf")
tm_shape(borders_hires) +
tm_borders()
raster_elev <- get_elev_raster(borders_hires, z = 5, clip = "locations")
tm_shape(raster_elev) +
tm_raster()
loc_path <- basemap_geotif(borders_hires, map_service = "esri", map_type = "world_imagery", map_res = 0.7)
loc_path
loc_basemap <- raster::stack(loc_path)
loc_basemap
#raster::plotRGB(loc_basemap)
map_full <- tm_shape(loc_basemap) +
tm_rgb() +
tm_shape(borders_hires) +
tm_borders(col = "red")
map_full
tm_shape(raster_elev) +
tm_raster(style = "cont", midpoint = NA, palette = terrain.colors(10)) +
tm_shape(borders_hires) +
tm_borders() +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
sf_rivers <- rnaturalearth::ne_download(scale = "large",category = "physical",
type = "rivers_lake_centerlines", returnclass = "sf")
sf_airports <- rnaturalearth::ne_download(scale = "large", category = "cultural",
type = "airports", returnclass = "sf")
tm_shape(raster_elev) +
tm_raster(style = "cont", midpoint = NA, palette = terrain.colors(10)) +
tm_shape(borders_hires) +
tm_borders() +
tm_shape(sf_rivers) +
tm_lines(col = "blue") +
tm_shape(sf_airports) +
tm_dots(col = "red", size = 0.2) +
tm_layout(legend.outside = T, frame = F)
loc2use <- "Hanoi, Vietnam"
streets <- getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "highway",
value = c("motorway", "primary",
"secondary", "tertiary")) %>%
osmdata_sf()
streets
loc2use <- "Hue, Vietnam"
loc2use <- "Sapa, Vietnam"
streets <- getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "highway",
value = c("motorway", "primary",
"secondary", "tertiary")) %>%
osmdata_sf()
streets
small_streets <- getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "highway",
value = c("residential", "living_street",
"unclassified",
"service", "footway")) %>%
osmdata_sf()
river <-  getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "waterway", value = "river") %>%
osmdata_sf()
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
aoi_zoomed <- aoi_get(x = loc2use)
loc_path <- basemap_geotif(aoi_zoomed, map_service = "osm", map_type = "streets", map_res = 0.7)
loc_path
loc_basemap_zoomed <- raster::stack(loc_path)
loc_basemap_zoomed
#raster::plotRGB(loc_basemap)
tm_shape(loc_basemap_zoomed) +
tm_rgb() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
raster_elev_zoomed <- get_elev_raster(aoi_zoomed, z = 7, clip = "locations")
tm_shape(raster_elev_zoomed) +
tm_raster() +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
raster_elev_zoomed <- get_elev_raster(aoi_zoomed, z = 9, clip = "locations")
tm_shape(raster_elev_zoomed) +
tm_raster() +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
raster_elev_zoomed <- get_elev_raster(aoi_zoomed, z = 12, clip = "locations")
tm_shape(raster_elev_zoomed) +
tm_raster() +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
raster_elev_zoomed <- get_elev_raster(aoi_zoomed, z = 14, clip = "locations")
tm_shape(raster_elev_zoomed) +
tm_raster() +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
tm_shape(raster_elev_zoomed) +
tm_raster(n =  10) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue")
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines() +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey") +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1.5) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.75) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1.5) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.75) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 2) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.75) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1.75) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.5) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1.75) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12, palette = "Greys") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.5) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1.75) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
loc2use <- "Hue, Vietnam"
streets <- getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "highway",
value = c("motorway", "primary",
"secondary", "tertiary")) %>%
osmdata_sf()
streets
small_streets <- getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "highway",
value = c("residential", "living_street",
"unclassified",
"service", "footway")) %>%
osmdata_sf()
river <-  getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "waterway", value = "river") %>%
osmdata_sf()
aoi_zoomed <- aoi_get(x = loc2use)
loc_path <- basemap_geotif(aoi_zoomed, map_service = "osm", map_type = "streets", map_res = 0.7)
loc_path
loc_basemap_zoomed <- raster::stack(loc_path)
loc_basemap_zoomed
#raster::plotRGB(loc_basemap)
raster_elev_zoomed <- get_elev_raster(aoi_zoomed, z = 14, clip = "locations")
raster_elev_zoomed <- get_elev_raster(aoi_zoomed, z = 12, clip = "locations")
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12, palette = "Greys") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.5) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1.75) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.5) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1.75) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.5) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.25) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey", lwd = 0.25) +\
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey", lwd = 0.25) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "darkgrey", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(loc_basemap_zoomed) +
tm_raster()
tm_shape(loc_basemap_zoomed) +
tm_rgb()
coast <- getbb(loc2use) %>%
opq()%>%
add_osm_feature(key = "natural", value = "coastline") %>%
osmdata_sf()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_shape(coast$osm_lines) +
tm_lines() +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12) +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_shape(coast$osm_lines) +
tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
tm_shape(raster_elev_zoomed) +
tm_raster(n =  12, title = "Elev (m)") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_shape(coast$osm_lines) +
tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
terrain.colors(n = 12)
pal2use <- terrain.colors(n = 12)
pal2use[1] <- "#0000FF"
tm_shape(raster_elev_zoomed) +
tm_raster(palette = pal2use, title = "Elev (m)") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_shape(coast$osm_lines) +
tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
pal2use <- terrain.colors(n = 12)
pal2use[1] <- "#0000FF"
tm_shape(raster_elev_zoomed) +
tm_raster(palette = pal2use, n = 12, title = "Elev (m)") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
tm_shape(coast$osm_lines) +
tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
pal2use <- terrain.colors(n = 8)
pal2use[1] <- "#0000FF"
tm_shape(raster_elev_zoomed) +
tm_raster(palette = pal2use, n = 8, title = "Elev (m)") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
# tm_shape(coast$osm_lines) +
# tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
pal2use <- terrain.colors(n = 8)
pal2use[1] <- "#0000FF"
tm_shape(raster_elev_zoomed) +
tm_raster(palette = pal2use, n = 8, title = "Elev (m)") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
# tm_shape(coast$osm_lines) +
# tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
pal2use <- terrain.colors(n = 12)
pal2use[1] <- "#0000FF"
tm_shape(raster_elev_zoomed) +
tm_raster(palette = pal2use, n = 12, title = "Elev (m)") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue") +
# tm_shape(coast$osm_lines) +
# tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
pal2use <- terrain.colors(n = 12)
pal2use[1] <- "#0000FF"
tm_shape(raster_elev_zoomed) +
tm_raster(palette = pal2use, n = 12, title = "Elev (m)") +
tm_shape(small_streets$osm_lines) +
tm_lines(col = "black", lwd = 0.2) +
tm_shape(streets$osm_lines) +
tm_lines(lwd = 1) +
tm_shape(river$osm_lines) +
tm_lines(col = "blue", lwd = 1.5) +
# tm_shape(coast$osm_lines) +
# tm_lines(col = "red") +
tm_layout(legend.outside = T, frame = F) +
tm_scale_bar()
country_prcp <- getTerraClimNormals(borders_hires, param = "prcp", period = "19812010", month = 1:12)
country_prcp <- getTerraClimNormals(borders_hires, param = "prcp", period = "19812010", month = 1:12)
AOI = aoi_get(country = "Vietnam")
country_prcp <- getTerraClimNormals(AOI, param = "prcp", period = "19812010", month = 1:12)
AOI = aoi_get(country = "Vietnam")
plot(AOI$geometry)
aoi2use = aoi_get(country = "Vietnam")
plot(aoi2use$geometry)
country_prcp <- getTerraClimNormals(aoi2use, param = "prcp", period = "19812010", month = 1:12)
country_prcp <- getTerraClimNormals(AOI = aoi2use, param = "prcp", period = "19812010", month = 1:12)
aoi2use = aoi_get(country = "Ethiopia")
plot(aoi2use$geometry)
country_prcp <- getTerraClimNormals(AOI = aoi2use, param = "prcp", period = "19812010", month = 1:12)
country_prcp <- getTerraClimNormals(AOI = aoi2use, param = "prcp", period = "19812010", month = 1:12)
library(tidyverse)
library(rnaturalearth)
library(sf)
library(tmap)
library(AOI)
library(climateR)
library(elevatr)
library(basemaps)
country_prcp <- getTerraClimNormals(AOI = aoi2use, param = "prcp", period = "19812010", month = 1:12)
library(tidyverse)
library(AOI)
library(climateR)
param_meta$terraclim
AOI = aoi_get(country = "Ethiopia")
plot(AOI$geometry)
NY_climate <- getTerraClimNormals(AOI, param = "prcp", period = "19812010", month = 1:12)
kenya = aoi_get(country = "Kenya")
tc = getTerraClim(kenya, param = "prcp", startDate = "2018-01-01")
AOI = aoi_get(state = "NC")
p = getPRISM(AOI, param = c('tmax','tmin'), startDate = "2018-10-29")
View(p)
AOI = aoi_get(country = "Ethiopia")
plot(AOI$geometry)
NY_climate <- getTerraClimNormals(AOI, param = "prcp", period = "19812010", month = 1:12)
NY_climate <- getTerraClimNormals(AOI, param = "prcp", period = "19812010", month = 1:12)
NY_climate <- getTerraClimNormals(AOI = AOI, param = "prcp", period = "19812010", month = 1:12)
NY_climate <- getTerraClimNormals(AOI = AOI, param = "prcp", period = "19812010", month = 1)
NY_climate <- getTerraClimNormals(AOI = AOI, param = "prcp", period = "19812010", month = 1:12)
library(AOI)
library(climateR)
library(sf)
AOI = aoi_get(country = "Ethiopia")
plot(AOI$geometry)
NY_climate <- getTerraClimNormals(AOI = AOI, param = "prcp", period = "19812010", month = 1:12)
NY_climate <- getTerraClimNormals(AOI = AOI2, param = "prcp", period = "19812010", month = 1:12)
AOI2 = aoi_get(country = "Ethiopia")
plot(AOI2$geometry)
NY_climate <- getTerraClimNormals(AOI = AOI2, param = "prcp", period = "19812010", month = 1:12)
remotes::install_github("mikejohnson51/climateR")
library(climateR)
