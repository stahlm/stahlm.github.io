---
title: "ENS215 Lab 1"
output: html_notebook
date: "Jan 11 2022 Clavel"
---

## Step 1: Analysis of fuel efficiency in automobiles 
```{r}
library(tidyverse)
```

```{r}
fuel_data <- mpg 
```

```{r}
str(fuel_data) #structure of fuel_data
```

### Answers to questions:
#### There are 11 variables. 
#### There are 234 observations. 
#### Chr means how many characters there are in each column. Int means how many integers there are, and num means how many num there are in the column if it applies.

```{r}
head(fuel_data) #shows first 6 rows of data set 
```

### Answers to questions:
#### The disp column represents the engine displacement in litres. Cyl represents the number of cylinders. Cty represents city miles per gallon. 
#### This data is obtained from fueleconomy.gov. 

```{r}
n_rows <- nrow(fuel_data) #how many rows in fuel_data
n_cols <- ncol(fuel_data) #how many columns in fuel_data 
```

### Answers to questions:
#### There are 234 rows and 11 columns. 

```{r}
summary(fuel_data)
```

### Answers to questions:
#### The most fuel efficient vehicle gets 44 gallons per mile. The least fuel efficient vehicle gets 12 gallons per mile. 
#### The average miles per gallon for city driving is 16.86. 

```{r}
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty) # creates new variable (hwy2cty) and adds it to fuel_data object (creates new column)

summary(fuel_data) #to find largest ratio of hwy2cty

fuel_data$cty > fuel_data$hwy #to find if any vehicle gets better gas milage in the city compared to the highway
```

```{r}
fuel_data$hwy2cty > 2 #to see if any vehicle has twice as good gas milage on the highway relative to the city
```

### Answers to questions:
#### No vehicle gets better milage in city compared to highway. 
#### No vehicle has twice was good gas milage on the highway relative to the city. 
#### The largest ratio between highway and city is 1.667. 

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = displ, y = hwy))
```

### Answers to questions:
#### The lower the engine displacement the higher the milage. 
#### There are some points between hwy milage 20 and 30 that seem to be outliers and don't follow the common trend. Especially the point at displ 7. 

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = displ, y = class, color = class))
```

### Answers to questions:
#### The more small the car the less displacement it has, minus 2 seater cars. 
#### The bigger the car the more displacement it has, except for 2 seater cars which are most likely sports cars. 

```{r}
us_makes <- c("chevrolet", "dodge", "ford", "jeep", "lincoln", "mercury", "pontiac") 

fuel_data <- mutate(fuel_data, region = if_else(manufacturer %in% us_makes, "US", "Foreign"))
```

### Answers to questions:
#### The variable region is telling us whether the car is from the US or foreign. 
#### Using the mutate function we add the variable region to fuel_data. if_else lets us check if any of the values in the manufacturer column falls within any of the characters in us_makes, if it does not then it is foreign. 

## Additional analysis of choosing 

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = hwy2cty, y = class, color = class))
```

#### This graph is comparing highway to city ratio vs class. If less than 1 that class has better milage in the city than on the highway.
#### What could be an explanation as to why the pickup has a hwt2cty ratio less than 1?

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = displ, y = region, color = region ))
```

#### This graph is comparing the displacement of US cars versus foreign cars. US made cars are shown to have a higher engine displacement. 

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = year, y = displ))
```

#### This graph is comparing displacement to year to see if displacement has improved as technologies have also improved throughout the year. 

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = displ, y = hwy))
```

#### This graph shows that lower displacement has a higher highway milage. 
#### What could be one explanation the the outlying points at a higher displacement.

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = displ, y = cty))
```

#### This graph shows that a higher displacement means a lower city milage.

```{r}
avg_displ <- 3.472

highdispl_df <- fuel_data[fuel_data$displ > 3.472, ] #shows cars with higher than avg displacement
```

```{r}
ggplot(data = highdispl_df) + geom_point(aes(x = displ, y = manufacturer, color = manufacturer))
```

#### This graph shows brands that have a higher than average displacement, with the average displacement being 3.472.

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = hwy , y = region, color = region))
```

#### This graph shows that foreign cars have a better mileage on the highway than US made cars.

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = cty, y = region, color = region))
```

#### This graph shows that foreign cars also have a better milage in the city.

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = hwy2cty, y = region, color = region))

```

#### Shows that both US and foreign made cars both have better milage on the highway. A few foreign made cars have better milage in the city.

## Step 2(optional): Work with an expanded EPA fuel efficiency dataset 

```{r}
epa_data <- read.csv("vehicles.csv")

epadata_df <- data.frame(epa_data)
```

```{r}
ggplot(data = epadata_df) + geom_point(aes(x = highway08, y = barrels08))
```


#### This graph shows annual petroleum consumption in barrels for single use vehicles against highway MPG for single use vehicles. Shows that with a lower highway MPG the annual petroleum consuption in barrles is lower.