---
title: "Lab 1 EPA Fuel Analysis"
author: Emma Phillips
date: 01/16/23
theme: cerulean
highlight: haddock
output: html_document
---
# Introduction #  

This lab examines fuel efficiency for cars in the years 1999 and 2008. Using data from the mpg data set from the EPA, we can analyze cars based on model, engine size, miles per gallon on highways versus cities, and many other factors. Examining fuel efficiency is a pertinent issue in the U.S as vehicles are a large percentage of our total CO2 emissions. Using scatterplots to compare two different columns of data within the data set was a large part of this lab's analysis. For the analysis done, it can be concluded that cars in the U.S, the model of the car and the model of car has a large effect on its efficiency. While the region the car was manufactured in was thought to initially have a large effect on the fuel efficiency, cars made in the U.S or in a foreign country had fairly consistent gas mileages.



### Loading packages and examining data ### 
```{r}
library(tidyverse)
```

```{r}
fuel_data <- mpg 
```

```{r}
str(fuel_data)
```
There are 11 variables in fuel_data. There are 234 total observations within fuel_data.
For types of data input, "chr" means character, "int" is integer, and "num" is numeric. 

```{r}
firstrows <- fuel_data[1:6, ]

firstrows
```
"Displ" equals engine displacment in liters, "cyl" is the number of cylinders in the car, 
and "cty" is city miles per gallon. All of the data in mpg comes from fueleconomy.gov. 

```{r}
summary(fuel_data)
```

```{r}
summary(mpg)
```

The most efficient vehicle gets 44 mpg for highway driving and the least efficient gets 12 mpg. 
The average miles per gallon for city driving is 16.86.

```{r}
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
```

```{r}
fuel_data$hwy2cty
```
```{r}
summary(fuel_data)
```
None of the cars get better city mileage than highway mileage.
None of the cars have twice as good gas mileage on the highway.
The largest ratio between highway and city mileage is 1.667. 

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = hwy, y = displ))
```
There are several outliers in the graph. There are two outliers with high highway miles per gallon
and a few outliers with out of the ordinary "displ" and "hwy" values.

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = class, y = displ, color = "red"))
```
The type of car affects the fuel economy. The outliers might be caused by the engine displacement in liters.

```{r}
us_makes <- c("chevrolet", "dodge", "ford", "jeep", "lincoln", "mercury", "pontiac")
```

```{r}
fuel_data <- mutate(fuel_data, region = if_else (manufacturer %in% us_makes, "US", "Foreign"))
```
```{r}
fuel_data$region

```
The region tells us whether the cars were manufactured in the U.S or not.

## My analysis ##

```{r fig.width=5}
ggplot(data = fuel_data) + geom_point(aes(x = year, y = cty), color = "blue")
```
The cars in 2008 have more consistent gas mileage, but the cars from 1999 have overall higher city mpg.

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = trans, y = cty), color = "purple")
```
Transmission type versus city mileage. I thought manuals would have worse city mpg, but they
are fairly consistent with automatic transmissions.

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = region, y = hwy2cty), color = "orange")
```
This graph compares the region the car was made in to the variable "hwy2cty". 

```{r}
ggplot(data = fuel_data) + geom_point(aes(x = class, y = cty), color = "blue")
```
The type of car (size) compared to the city mileage. The 2 two-seaters get fairly bad gas mileage.
The compacts have a wide range of mpg. The midsize cars have fairly average mpg. The minivans have
generally bad gas mileage with one low outlier dragging them down. The pickups have worse mpg than minivans
(not a surprise). Subcompacts get overall the best city mpg of any of the groups with higher averages and
one significantly higher outlier. The SUVs get slightly better mpg than pickups and minivans, but only because
they simply have more data and that data spans a larger range than the other two types of cars.


