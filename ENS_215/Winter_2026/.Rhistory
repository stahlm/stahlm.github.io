a<-maps::franceMapEnv
a<-maps::world.cities
View(a)
library(tidyverse)
library(patchwork)
library(maps)
library(mapproj)
map_data_usa <- map_data("state")
View(map_data_usa)
unique(map_data_usa$subregion)
map_us <- map_data_usa %>%
ggplot() +
geom_polygon(aes(x = long, y = lat, group = group),
color = "black", fill = "thistle"
)
map_us
map_data_it <- map_data("italy")
View(map_data_usa)
View(map_data_it)
View(map_data_usa)
map_us <- map_data_usa %>%
ggplot() +
geom_polygon(aes(x = long, y = lat, group = group, fill = region),
color = "black"
)
map_us
map_us <- map_data_usa %>%
ggplot() +
geom_polygon(aes(x = long, y = lat, group = group, fill = region),
color = "black"
) +
theme_minimal() +
theme(legend.position = "none")
map_us
map_us <- map_data_usa %>%
ggplot() +
geom_polygon(aes(x = long, y = lat, group = group),
color = "black", fill = "thistle"
)
map_us
map_us
map_us + coord_quickmap()
map_us_bonne <- map_us +
coord_map(projection = "bonne", lat0 = 50) +
theme_bw() +
labs(title = "Bonne")
map_us_bonne
map_us_bonne <- map_us +
coord_map(projection = "bonne", lat0 = 50) +
theme_bw() +
labs(title = "Bonne")
map_us_bonne
map_us_conic <- map_us +
coord_map(projection = "conic", lat0 = 30) +
theme_bw() +
labs(title = "Conic")
map_us_conic
map_us_bonne + map_us_conic
map_us_bonne / map_us_conic
library(tidyverse)
library(tmap)
library(spData)
library(sf)
world_map_data <- world
View(world_map_data)
tm_shape(world_map_data) +
tm_polygons(fill = "lifeExp")
tm_shape(world_map_data) +
tm_polygons(fill = "lifeExp") +
tm_crs("auto")
map_1 <- tm_shape(world_map_data) +
tm_fill()
map_1
map_2 <- tm_shape(world_map_data) +
tm_fill("lifeExp")
map_2
map_2 <- tm_shape(world_map_data) +
tm_fill("lifeExp") +
tm_borders(col = "black")
map_2
world_map_data %>%
tm_shape() +
tm_fill("continent") +
tm_borders()
world_map_data %>%
tm_shape() +
tm_fill("continent") +
tm_borders() +
tm_facets(by = "continent")
world_map_data %>%
filter(gdpPercap >= 10000) %>%
tm_shape() +
tm_polygons(fill = "forestgreen")
world_map_data %>%
filter(gdpPercap >= 10000) %>%
tm_shape() +
tm_polygons(fill = "forestgreen") +
tm_shape(world_map_data) +
tm_borders()
world_map_data %>%
filter(gdpPercap >= 10000) %>%
tm_shape(crs = "+proj=moll") +
tm_polygons(fill = "forestgreen") +
tm_shape(world_map_data) +
tm_borders()
sf_no_gdp <- world_map_data %>%
filter(is.na(gdpPercap))
View(sf_no_gdp)
world_map_data %>%
filter(gdpPercap >= 10000) %>%
tm_shape(crs = "+proj=moll") +
tm_polygons(fill = "forestgreen") +
tm_shape(sf_no_gdp) +
tm_polygons(fill = "coral2") +
tm_shape(world_map_data) +
tm_borders()
world_map_data %>%
filter(gdpPercap >= 10000) %>%
tm_shape(crs = "+proj=moll") +
tm_polygons(fill = "forestgreen") +
tm_shape(sf_no_gdp) +
tm_polygons(fill = "coral2") +
tm_shape(world_map_data) +
tm_borders() +
tm_graticules()
world_map_data %>%
filter(gdpPercap >= 10000) %>%
tm_shape(crs = "+proj=moll") +
tm_polygons(fill = "forestgreen") +
tm_shape(sf_no_gdp) +
tm_polygons(fill = "coral2") +
tm_shape(world_map_data) +
tm_borders() +
tm_graticules(n.x = 20)
my_world_map <- world_map_data %>%
filter(gdpPercap >= 10000) %>%
tm_shape(crs = "+proj=moll") +
tm_polygons(fill = "forestgreen") +
tm_shape(sf_no_gdp) +
tm_polygons(fill = "coral2") +
tm_shape(world_map_data) +
tm_borders() +
tm_graticules(n.x = 20)
my_world_map
tmap_mode("view")
my_world_map
library(tigris)
NY_countries <- counties(state = "NY", cb = TRUE)
View(NY_countries)
NY_map <- NY_countries %>%
tm_shape() +
tm_polygons(fill = "darkseagreen", col = "black")
NY_map <- NY_countries %>%
tm_shape() +
tm_polygons(fill = "darkseagreen", col = "black")
NY_map
tmap_mode("plot")
NY_map <- NY_countries %>%
tm_shape() +
tm_polygons(fill = "darkseagreen", col = "black")
NY_map
sch_map <- NY_countries %>%
filter(NAME == "Schenectady") %>%
tm_shape() +
tm_polygons(fill = "thistle", col = "black") +
tm_scale_bar(breaks = c(0,5,10))
sch_map <- NY_countries %>%
filter(NAME == "Schenectady") %>%
tm_shape() +
tm_polygons(fill = "thistle", col = "black") +
tm_scalebar(breaks = c(0,5,10))
sch_map
water_sch <- area_water(state = "NY", county = "Schenectady")
sch_map +
tm_shape(water_sch) +
tm_polygons(fill = "lawngreen")
sch_map <- sch_map +
tm_shape(water_sch) +
tm_polygons(fill = "lawngreen")
sch_map
tmap_mode("view")
my_world_map
tmap_mode("plot")
spData::us_states
sf_us_states <- us_states
state_cap_locs <- read_csv("https://stahlm.github.io/ENS_215/Data/us_capitals_locs.csv", skip = 2)
View(state_cap_locs)
View(state_cap_locs)
sf_state_caps <- st_as_sf(x = state_cap_locs,
coords = c("long_deg", "lat_deg"))
View(sf_state_caps)
sf_us_states <- us_states
View(sf_us_states)
state_cap_locs <- read_csv("https://stahlm.github.io/ENS_215/Data/us_capitals_locs.csv", skip = 2)
View(state_cap_locs)
sf_state_caps <- st_as_sf(x = state_cap_locs,
coords = c("long_deg", "lat_deg"))
View(sf_state_caps)
install.packages ("osmdata")
library(tidyverse)
library(sf)
library(tmap)
library(elevatr)
library(osmdata)
library(rnaturalearth)
country2use <-
sf_borders <- rnaturalearth::ne_states(country = "Israel")
View(sf_borders)
country2use <- "Israel"
sf_borders <- rnaturalearth::ne_states(country = country2use)
sf_borders %>%
tm_shape() +
tm_polygons()
country2use <- "Israel"
sf_borders <- rnaturalearth::ne_states(country = country2use, scale = 10)
country2use <- "Israel"
sf_borders <- rnaturalearth::ne_states(geounit  = country2use)
sf_borders %>%
tm_shape() +
tm_polygons()
world <- ne_countries()
View(world)
country2use <- "Israel"
sf_borders <- rnaturalearth::ne_countries(sovereignty = country2use, scale = 10)
sf_borders %>%
tm_shape() +
tm_polygons()
r_elev <- get_elev_raster(locations = sf_borders, z = 6)
r_elev %>%
tm_shape() +
tm_raster()
r_elev <- terra::rast(r_elev)
r_elev %>%
tm_shape() +
tm_raster()
library(tidyverse)
library(sf)
library(tmap)
library(elevatr)
library(osmdata)
library(rnaturalearth)
library(terra)
r_elev_cropped <- mask(r_elev, sf_borders)
r_elev_cropped <- crop(r_elev_cropped, sf_borders)
r_elev_cropped %>%
tm_shape() +
tm_raster()
r_elev_cropped %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = terrain.colors(n = 10)))
r_elev <- get_elev_raster(locations = sf_borders, z = 8)
r_elev <- terra::rast(r_elev)
r_elev_cropped <- mask(r_elev, sf_borders)
r_elev_cropped <- crop(r_elev_cropped, sf_borders)
r_elev_cropped %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = terrain.colors(n = 10)))
r_elev
r_elev_cropped %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = grey.colors(n = 10)))
# 2. Create hillshade
slope <- terrain(r_elev_cropped, "slope", unit = "radians")
aspect <- terrain(r_elev_cropped, "aspect", unit = "radians")
hill <- shade(slope, aspect, angle = 45, direction = 315)
tm_shape(hill) +
tm_raster(palette = "gray", n = 100, legend.show = FALSE) +
tm_shape(r_elev_cropped) +
tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation") +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(palette = "gray", n = 100, legend.show = FALSE) +
tm_shape(r_elev_cropped) +
tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(palette = "gray", n = 100, legend.show = FALSE) +
tm_shape(r_elev_cropped) +
tm_raster(col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn")) +
#tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(palette = "gray", n = 100, col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
col.legend = tm_legend_hide()) +
#tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "greys")) +
#tm_raster(palette = "gray", n = 100, col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
col.legend = tm_legend_hide()) +
#tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "greys"), col.legend = tm_legend_hide()) +
#tm_raster(palette = "gray", n = 100, col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
col.legend = tm_legend_hide()) +
#tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
#tm_raster(palette = "gray", n = 100, col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
col.legend = tm_legend_hide()) +
#tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
#tm_raster(palette = "gray", n = 100, col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
#tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
#          col.legend = tm_legend_hide()) +
#tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
#tm_raster(palette = "gray", n = 100, col.legend = tm_legend_hide()) +
#tm_shape(r_elev_cropped) +
#tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
#          col.legend = tm_legend_hide()) +
#tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_raster(palette = "gray", n = 100, col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
col.legend = tm_legend_hide()) +
tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
col.legend = tm_legend_hide()) +
tm_raster(alpha = 0.4, palette = "PuBuGn", title = "Elevation",  legend.show = FALSE) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = "brewer.pu_bu_gn"),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = terrain.colors(n = 10)),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
install.packages("cols4all")
library(cols4all)
library(tidyverse)
library(sf)
library(tmap)
library(elevatr)
library(osmdata)
library(rnaturalearth)
library(terra)
library(cols4all)
cols4all::c4a_gui()
install.packages("colorblindcheck")
cols4all::c4a_gui()
cols4all::c4a(palette = "yl_or_br")
cols4all::c4a_gui()
cols4all::c4a(palette = "tol.yl_or_br")
pal2use <- cols4all::c4a(palette = "tol.yl_or_br")
pal2use <- cols4all::c4a(palette = "tol.yl_or_br", n = 10)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.6, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
cols4all::c4a_gui()
pal2use <- cols4all::c4a(palette = "purp", n = 10)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
pal2use <- cols4all::c4a(palette = "oslo", n = 10)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.2, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
cols4all::c4a_gui()
pal2use <- cols4all::c4a(palette = "crest", n = 10)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.2, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
pal2use <- cols4all::c4a(palette = "davos", n = 10)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.2, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.4, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_cropped) +
tm_raster(col_alpha = 0.3, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
library(tidyverse)
library(sf)
library(tmap)
library(elevatr)
library(osmdata)
library(rnaturalearth)
library(terra)
library(cols4all)
library(AOI)
AOI::geocode(geo = "Jerusalem", bbox = T)
sf_city <- AOI::geocode(geo = "Jerusalem", bbox = T)
r_elev_city <- get_elev_raster(locations = sf_city, z = 10)
r_elev_city <- terra::rast(r_elev_city)
r_elev_city_cropped <- mask(r_elev_city, sf_city)
r_elev_city_cropped <- crop(r_elev_city_cropped, sf_city)
terra::plot(r_elev_city_cropped)
r_elev_city <- get_elev_raster(locations = sf_city, z = 12)
r_elev_city <- terra::rast(r_elev_city)
r_elev_city_cropped <- mask(r_elev_city, sf_city)
r_elev_city_cropped <- crop(r_elev_city_cropped, sf_city)
terra::plot(r_elev_city_cropped)
q <- opq (bbox = "London City, U.K.")
q <- opq(bbox = "Jerusalem")
View(q)
q <- opq(bbox = "Jerusalem")|>
add_osm_feature (key = "highway") |>
add_osm_feature (key = "name") |>
osmdata_sf ()
q %>%
tm_shape() +
tm_lines()
q$osm_lines %>%
tm_shape() +
tm_lines()
slope_city <- terrain(r_elev_city_cropped, "slope", unit = "radians")
aspect_city <- terrain(r_elev_city_cropped, "aspect", unit = "radians")
hill_city <- shade(slope_city, aspect_city, angle = 45, direction = 315)
tm_shape(hill_city) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_city_cropped) +
tm_raster(col_alpha = 0.3, col.scale = tm_scale_continuous(values = pal2use),
col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill_city) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
tm_shape(r_elev_city_cropped) +
#tm_raster(col_alpha = 0.3, col.scale = tm_scale_continuous(values = pal2use),
#          col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill_city) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
#tm_shape(r_elev_city_cropped) +
#tm_raster(col_alpha = 0.3, col.scale = tm_scale_continuous(values = pal2use),
#          col.legend = tm_legend_hide()) +
tm_layout(frame = FALSE)
tm_shape(hill_city) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
#tm_shape(r_elev_city_cropped) +
#tm_raster(col_alpha = 0.3, col.scale = tm_scale_continuous(values = pal2use),
#          col.legend = tm_legend_hide()) +
tm_shape(q$osm_lines) +
tm_lines() +
tm_layout(frame = FALSE) +
tm_shape(hill_city) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
#tm_shape(r_elev_city_cropped) +
#tm_raster(col_alpha = 0.3, col.scale = tm_scale_continuous(values = pal2use),
#          col.legend = tm_legend_hide()) +
tm_shape(q$osm_lines) +
tm_lines() +
tm_layout(frame = FALSE)
tm_shape(hill_city) +
tm_raster(col.scale = tm_scale_continuous(values = "gray"), col.legend = tm_legend_hide()) +
#tm_shape(r_elev_city_cropped) +
#tm_raster(col_alpha = 0.3, col.scale = tm_scale_continuous(values = pal2use),
#          col.legend = tm_legend_hide()) +
tm_shape(q$osm_lines) +
tm_lines(col_alpha = 0.5) +
tm_layout(frame = FALSE)
