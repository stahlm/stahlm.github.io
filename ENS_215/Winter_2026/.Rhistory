library(tigris)
NY_counties <- counties(state = "NY",
cb = TRUE)
county_schenectady <- NY_counties %>%
filter(NAME == "Schenectady")
raster_elev <- get_elev_raster(county_schenectady,
z = 12,
clip = "locations")
terra::plot(raster_elev)
raster_elev_05 <- get_elev_raster(county_schenectady,
z = 6,
clip = "locations")
terra::plot(raster_elev_05)
library(rnaturalearth)
borders_hires <- ne_countries(country = "Lesotho",
scale = "large",
returnclass = "sf")
raster_elev_lesotho <- get_elev_raster(borders_hires,
z = 9,
clip = "locations")
raster_elev_lesotho %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = terrain.colors(n = 10))) +
tm_shape(borders_hires) +
tm_borders()
library(climateR)
border_NY <- ne_states(country = "United States of America", returnclass = "sf")
border_NY <- border_NY %>%
filter(name == "New York")
catalog %>%
filter(id == "gridmet") %>%
select(varname, units, description)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04"
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04"
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04"
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04"
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04"
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04", verbose = T
)
library(tidyverse)
library(tmap)
library(sf)
library(elevatr)
library(tigris)
NY_counties <- counties(state = "NY",
cb = TRUE)
county_schenectady <- NY_counties %>%
filter(NAME == "Schenectady")
raster_elev <- get_elev_raster(county_schenectady,
z = 12,
clip = "locations")
terra::plot(raster_elev)
raster_elev_05 <- get_elev_raster(county_schenectady,
z = 6,
clip = "locations")
terra::plot(raster_elev_05)
library(rnaturalearth)
borders_hires <- ne_countries(country = "Lesotho",
scale = "large",
returnclass = "sf")
raster_elev_lesotho <- get_elev_raster(borders_hires,
z = 9,
clip = "locations")
raster_elev_lesotho %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = terrain.colors(n = 10))) +
tm_shape(borders_hires) +
tm_borders()
library(climateR)
border_NY <- ne_states(country = "United States of America", returnclass = "sf")
border_NY <- border_NY %>%
filter(name == "New York")
catalog %>%
filter(id == "gridmet") %>%
select(varname, units, description)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04", verbose = T
)
catalog %>%
filter(id == "gridmet")
catalog %>%
filter(id == "daymet") %>%
select(varname, units, description)
catalog %>%
filter(id == "gridmet") %>%
select(varname, units, description)
a <- catalog
View(a)
p <- getDaymet(AOI = border_NY,
varname = c("tmin"),
startDate = "2025-02-04", verbose = T
)
p <- getDaymet(AOI = border_NY,
varname = c("tmin"),
startDate = "2020-02-04", verbose = T
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04", verbose = T
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04", verbose = T
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04", verbose = T
)
precip_data <- read_csv("https://stahlm.github.io/ENS_215/Data/NOAA_State_Precip_LabData.csv")
View(precip_data)
precip_data2 <- read_csv("https://stahlm.github.io/ENS_215/Data/noaa_cag_state_precipitation.csv")
View(precip_data2)
df_names <- tibble(STATE = state.name, state_cd = state.abb)
precip_data <- precip_data %>%
left_join(df_names) %>%
rename(Year = YEAR,
Month = MONTH,
Precip_inches = Value
)
precip_data <- read_csv("https://stahlm.github.io/ENS_215/Data/noaa_cag_state_precipitation.csv")
df_names <- tibble(STATE = state.name, state_cd = state.abb)
precip_data <- precip_data %>%
left_join(df_names) %>%
rename(Year = YEAR,
Month = MONTH,
Precip_inches = Value
)
precip_data <- precip_data %>%
mutate(time_period = if_else(Year >= 1950,"Post-1950","Pre-1950"))
ny_precip <- precip_data %>%
filter(state_cd == "NY")
ny_precip %>%
ggplot(aes(Precip_inches)) +
geom_histogram(bins = 30) +
theme_classic()
ny_precip %>%
ggplot(aes(Precip_inches, stat(density))) +
geom_histogram() +
theme_classic()
ny_precip %>%
ggplot(aes(Precip_inches, stat(ndensity))) +
geom_histogram(bins = 50) +
theme_classic()
ny_precip %>%
ggplot(aes(Precip_inches)) +
geom_density(fill = "grey") +
theme_classic()
ny_precip %>%
ggplot(aes(Precip_inches, group = time_period, fill = time_period)) +
geom_density(alpha = 0.5) +
scale_fill_manual(values = c("grey", "blue")) +
theme_classic()
library(tidyverse)
library(tmap)
library(sf)
library(elevatr)
library(tigris)
NY_counties <- counties(state = "NY",
cb = TRUE)
county_schenectady <- NY_counties %>%
filter(NAME == "Schenectady")
raster_elev <- get_elev_raster(county_schenectady,
z = 12,
clip = "locations")
terra::plot(raster_elev)
raster_elev_05 <- get_elev_raster(county_schenectady,
z = 6,
clip = "locations")
terra::plot(raster_elev_05)
library(rnaturalearth)
borders_hires <- ne_countries(country = "Lesotho",
scale = "large",
returnclass = "sf")
raster_elev_lesotho <- get_elev_raster(borders_hires,
z = 9,
clip = "locations")
raster_elev_lesotho %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = terrain.colors(n = 10))) +
tm_shape(borders_hires) +
tm_borders()
library(climateR)
border_NY <- ne_states(country = "United States of America", returnclass = "sf")
border_NY <- border_NY %>%
filter(name == "New York")
catalog %>%
filter(id == "gridmet") %>%
select(varname, units, description)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04"
)
climate_raster <- getTerraClim(
AOI = borders_hires,
varname = "ppt",
startDate = "2021-01-01",
endDate = "2021-12-01",
verbose = T,
dryrun = FALSE
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2025-02-04", verbose = T
)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2023-02-04", verbose = T
)
p <- p$daily_minimum_temperature
p <- terra::crop(p, border_NY)
p <- terra::mask(p, border_NY)
p
p <- p - 273.15
p %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = "brewer.blues")) +
#tm_raster(palette = "Blues", n = 10) +
tm_shape(border_NY) +
tm_borders()
library(tidyverse)
library(tmap)
library(sf)
library(maps)
library(terra)
raster_world_elev <- rast("https://github.com/stahlm/stahlm.github.io/raw/master/ENS_215/Data/World_elev.TIFF")
raster_world_elev <- raster_world_elev$World_elev
# Data was obtained from: https://neo.sci.gsfc.nasa.gov/view.php?datasetId=SRTM_RAMP2_TOPO
terra::plot(raster_world_elev)
raster_world_elev[raster_world_elev == 99999] <- 0
terra::plot(raster_world_elev)
borders_data <- spData::world
raster_world_elev %>%
tm_shape() +
tm_raster()
raster_world_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous())
raster_world_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous()) +
tm_shape(borders_data) +
tm_borders()
raster_world_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous()) +
tm_shape(borders_data) +
tm_borders(col = "red")
raster_world_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous()) +
tm_shape(borders_data) +
tm_borders(col = "black")
raster_world_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous()) +
tm_shape(borders_data) +
tm_borders(col = "black") +
tm_layout(legend.position = c("LEFT", "CENTER"))
raster_world_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous()) +
tm_shape(borders_data) +
tm_borders(col = "black")
raster_high_elev <- raster_world_elev
raster_high_elev[raster_high_elev < 1500] <- NA
raster_high_elev[raster_high_elev >= 1500] <- 1
raster_high_elev %>%
tm_shape() +
tm_raster()
raster_high_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_discrete(values = c("darkgreen")))
raster_high_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_discrete(values = c("darkgreen")),
col.legend = tm_legend(title = "High Elevation")
)
raster_high_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_discrete(values = c("darkgreen")),
col.legend = tm_legend(title = "High Elevation")
) +
tm_shape(borders_data) +
tm_borders()
precip_data <- read_csv("https://stahlm.github.io/ENS_215/Data/NOAA_State_Precip_LabData.csv")
ny_precip <- precip_data %>%
filter(state_cd == "NY")
View(precip_data)
View(ny_precip)
mean(ny_precip$Precip_inches)
ny_precip <- ny_precip %>%
mutate(period = if_else(Year >= 1950, "Post-1950", "Pre-1950"))
ny_precip %>%
group_by(period) %>%
summarise(mean_precip = mean(Precip_inches))
library(tidyverse)
library(tmap)
library(sf)
library(maps)
library(terra)
precip_data <- read_csv("https://stahlm.github.io/ENS_215/Data/NOAA_State_Precip_LabData.csv")
ny_precip <- precip_data %>%
filter(state_cd == "NY")
mean(ny_precip$Precip_inches)
ny_precip <- ny_precip %>%
mutate(period = if_else(Year >= 1950, "Post-1950", "Pre-1950"))
ny_precip %>%
group_by(period) %>%
summarise(mean_precip = mean(Precip_inches))
our_data <- c(1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,3)
median(our_data)
median(our_data)
mean(our_data)
our_data <- c(1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,3,30000000)
median(our_data)
mean(our_data)
library(tidyverse)
library(tmap)
library(sf)
library(maps)
library(terra)
raster_world_elev <- rast("https://github.com/stahlm/stahlm.github.io/raw/master/ENS_215/Data/World_elev.TIFF")
raster_world_elev <- raster_world_elev$World_elev
# Data was obtained from: https://neo.sci.gsfc.nasa.gov/view.php?datasetId=SRTM_RAMP2_TOPO
terra::plot(raster_world_elev)
raster_world_elev[raster_world_elev == 99999] <- 0
terra::plot(raster_world_elev)
borders_data <- spData::world
raster_world_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous()) +
tm_shape(borders_data) +
tm_borders(col = "black") #+
#tm_layout(legend.position = c("LEFT", "CENTER"))
raster_high_elev <- raster_world_elev
raster_high_elev[raster_high_elev < 1500] <- NA
raster_high_elev[raster_high_elev >= 1500] <- 1
raster_high_elev %>%
tm_shape() +
tm_raster(col.scale = tm_scale_discrete(values = c("darkgreen")),
col.legend = tm_legend(title = "High Elevation")
) +
tm_shape(borders_data) +
tm_borders()
precip_data <- read_csv("https://stahlm.github.io/ENS_215/Data/NOAA_State_Precip_LabData.csv")
ny_precip <- precip_data %>%
filter(state_cd == "NY")
mean(ny_precip$Precip_inches)
ny_precip <- ny_precip %>%
mutate(period = if_else(Year >= 1950, "Post-1950", "Pre-1950"))
ny_precip %>%
group_by(period) %>%
summarise(mean_precip = mean(Precip_inches))
quantile(ny_precip$Precip_inches,
probs = c(0.05,0.25,0.50,0.75,0.95))
quantile(ny_precip$Precip_inches,
probs = c(0.05,0.25,0.50,0.75,0.95,0.995))
ny_precip %>%
group_by(period) %>%
summarize(mean_ppt = mean(Precip_inches),
sd_ppt = sd(Precip_inches)
)
precip_data <- read_csv("https://stahlm.github.io/ENS_215/Data/noaa_cag_state_precipitation.csv")
library(ggridges)
df_names <- tibble(STATE = state.name, state_cd = state.abb)
precip_data <- precip_data %>%
left_join(df_names) %>%
rename(Year = YEAR,
Month = MONTH,
Precip_inches = Value
)
precip_data <- precip_data %>%
mutate(time_period = if_else(Year >= 1950,"Post-1950","Pre-1950"))
ny_precip <- precip_data %>%
filter(state_cd == "NY")
ny_precip %>%
ggplot(aes(x = Precip_inches)) +
geom_histogram(bins = 30) +
theme_classic()
ny_precip %>%
ggplot(aes(x = Precip_inches)) +
geom_histogram(bins = 10) +
theme_classic()
ny_precip %>%
ggplot(aes(x = Precip_inches)) +
geom_histogram(bins = 2) +
theme_classic()
ny_precip %>%
ggplot(aes(x = Precip_inches)) +
geom_histogram(bins = 200) +
theme_classic()
ny_precip %>%
ggplot(aes(x = Precip_inches)) +
geom_histogram(bins = 30) +
theme_classic()
ny_precip %>%
ggplot(aes(x = Precip_inches)) +
geom_density(fill = "grey") +
theme_classic()
ny_precip %>%
ggplot(aes(x = Precip_inches, fill = time_period)) +
geom_density() +
scale_fill_manual(values = c("grey", "blue")) +
theme_classic()
ny_precip %>%
ggplot(aes(x = Precip_inches, fill = time_period)) +
geom_density(alpha = 0.5) +
scale_fill_manual(values = c("grey", "blue")) +
theme_classic()
precip_data %>%
filter(state_cd %in% c("NY", "FL", "CA", "AZ", "NE")) %>%
ggplot(aes(x = Precip_inches, fill = state_cd), alpha = 0.3) +
geom_density() +
theme_classic()
precip_data %>%
filter(state_cd %in% c("NY", "FL", "CA", "AZ", "NE")) %>%
ggplot(aes(x = Precip_inches, fill = state_cd)) +
geom_density(alpha = 0.3) +
theme_classic()
library(tidyverse)
library(tmap)
library(tidyverse)
library(tmap)
library(tidyverse)
library(tmap)
library(tidyverse)
library(tmap)
library(sf)
library(tidyverse)
library(tmap)
library(sf)
library(elevatr)
library(tigris)
NY_counties <- counties(state = "NY",
cb = TRUE)
county_schenectady <- NY_counties %>%
filter(NAME == "Schenectady")
raster_elev <- get_elev_raster(county_schenectady,
z = 12,
clip = "locations")
terra::plot(raster_elev)
raster_elev_05 <- get_elev_raster(county_schenectady,
z = 6,
clip = "locations")
terra::plot(raster_elev_05)
library(rnaturalearth)
borders_hires <- ne_countries(country = "Lesotho",
scale = "large",
returnclass = "sf")
raster_elev_lesotho <- get_elev_raster(borders_hires,
z = 9,
clip = "locations")
raster_elev_lesotho %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = terrain.colors(n = 10))) +
tm_shape(borders_hires) +
tm_borders()
library(climateR)
border_NY <- ne_states(country = "United States of America", returnclass = "sf")
border_NY <- border_NY %>%
filter(name == "New York")
catalog %>%
filter(id == "gridmet") %>%
select(varname, units, description)
p <- getGridMET(AOI = border_NY,
varname = c("tmmn"),
startDate = "2023-02-04", verbose = T
)
p <- p$daily_minimum_temperature
p <- terra::crop(p, border_NY)
p <- terra::mask(p, border_NY)
p
p <- p - 273.15
p %>%
tm_shape() +
tm_raster(col.scale = tm_scale_continuous(values = "brewer.blues")) +
#tm_raster(palette = "Blues", n = 10) +
tm_shape(border_NY) +
tm_borders()
borders_hires <- rnaturalearth::ne_countries(country = "Switzerland",
scale = "large",
returnclass = "sf")
catalog %>%
filter(id == "terraclim") %>%
select(varname, units, description)
climate_raster <- getTerraClim(
AOI = borders_hires,
varname = "ppt",
startDate = "2021-01-01",
endDate = "2021-12-01",
verbose = T,
dryrun = FALSE
)
install.packages("hexbin")
