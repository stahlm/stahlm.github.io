"0","## This function gets NDVI from Landsat 5 imagery."
"0","getNDVI <- function(image) {"
"0","  (image[[""B4""]] - image[[""B3""]])/(image[[""B4""]] + image[[""B3""]])"
"0","}"
"0",""
"0","## Load two Landsat 5 images, 20 years apart."
"0","image1 <- ee$Image('LANDSAT/LT05/C01/T1_TOA/LT05_044034_19900604')"
"0","image2 <- ee$Image('LANDSAT/LT05/C01/T1_TOA/LT05_044034_20100611')"
"0",""
"0","## Compute NDVI from the scenes."
"0","ndvi1 <- getNDVI(image1)"
"0","ndvi2 <- getNDVI(image2)"
"0",""
"0","## Compute the difference in NDVI."
"0","ndviDifference <- ndvi2 - ndvi1"
"0",""
"0","## Load the land mask from the SRTM DEM."
"0","landMask <- ee$Image('CGIAR/SRTM90_V4')$mask()"
"0",""
"0","## Update the NDVI difference mask with the land mask."
"0","maskedDifference <- ndviDifference$updateMask(landMask)"
"0",""
"0","## Display the masked result."
"0","vizParams <- list("
"0","  min = -0.5, "
"0","  max = 0.5, "
"0","  palette = c('FF0000', 'FFFFFF', '0000FF')"
"0",")"
"0","Map$setCenter(-122.2531, 37.6295, 9)"
"0","Map$addLayer(maskedDifference, vizParams, 'NDVI difference')"
"2","Error in dirname(to) : path too long
"
