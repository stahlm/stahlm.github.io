dim(fuel_data)[2]
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
library(tidyverse)
df_met <- read_csv("https://github.com/stahlm/stahlm.github.io/raw/master/ENS_215/Data/Albany_GHCND_2840632.csv")
year_vec <- seq(1939, 2021)
year_vec
table_stats <- tibble(year = year_vec,
n_days = NA,
n_events = NA)
threshold_min <- 32
for (i_year in year_vec) {
df_temp <- df_met[df_met$YEAR == i_year, ] # current year's data
i_count <- sum(df_temp$TMIN <= threshold_min)
#print(i_count)
i_days <- nrow(df_temp)
#print(i_days)
table_stats$n_events[table_stats$year == i_year] <- i_count
table_stats$n_days[table_stats$year == i_year] <- i_days
}
table_stats %>%
ggplot(aes(x = year, y = n_events)) +
geom_point() + geom_smooth()
library(gapminder)
gap_data <- gapminder
gap_data %>%
filter(country %in% c("China", "Spain"))
filter(gap_data, country == "China"| country == "Spain")
library(tidyverse)
library(gapminder)
gap_data <- gapminder
gap_question1 <- gap_data %>%
arrange(continent, lifeExp) %>%
filter(year > 1980,
continent %in% c("Asia", "Africa"))
gap_question1
table_stats %>%
ggplot(aes(x = year, y = n_events)) +
geom_point() + geom_smooth()
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
library(tidyverse)
fuel_data <- mpg
fuel_data <- mpg
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy )) +
facet_wrap(~class)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy, color = class ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
library(tidyverse)
fuel_data <- mpg
str(fuel_data)
head(fuel_data)
library(tidyverse)
fuel_data <- mpg
str(fuel_data)
head(fuel_data)
library(tidyverse)
fuel_data <- mpg
fuel_data <- mpg
view(fuel_data)
str(fuel_data)
n_rows <- nrow(fuel_data)
n_cols <- ncol(fuel_data)
dim(fuel_data)[2]
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
str(fuel_data)
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
library(tidyverse)
fuel_data <- mpg
fuel_data <- mpg
view(fuel_data)
str(fuel_data)
n_rows <- nrow(fuel_data)
n_cols <- ncol(fuel_data)
dim(fuel_data)[2]
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
knitr::opts_chunk$set(comment=NA, fig.width=5.5, fig.height=4.5)
library(tidyverse)
library(gapminder)
my_gap <- gapminder # create your own data object with the gapminder data
fig_1 <- my_gap %>%
filter(year == 2007, continent == "Asia") %>%
ggplot(aes(x = reorder(country, gdpPercap), y = gdpPercap)) +
geom_point() +
theme_classic()
fig_1
fig_1 <- fig_1 +
theme(axis.text.x = element_text(angle = 60, hjust = 1))
fig_1
library(scales)
fig_1 +
scale_y_continuous(labels=comma_format())
fig_life <- ggplot(my_gap, aes(x = gdpPercap, y = lifeExp)) +
geom_point() +
theme_classic() +
scale_x_log10()
fig_life
library(tidyverse)
fuel_data <- mpg
str(fuel_data)
head(fuel_data)
n_rows <- nrow(fuel_data)
n_cols <-ncol(fuel_data)
dim(fuel_data)
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty= hwy/cty)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x=displ, y=hwy))
ggplot(data = fuel_data) +
geom_point(aes(x=displ, y=hwy, color= class))
ggplot(data = fuel_data) +
geom_point(aes(x=displ, y = hwy, color = year))
ggplot(data = fuel_data) +
geom_point(aes(x=displ, y = hwy))+
facet_wrap(~class)
us_makes <- c("chevrolet","dodge","ford","jeep","lincoln","mercury","pontiac")
mutate(fuel_data,
region = if_else(manufacturer %in% us_makes, "US", "Foreign"))
ggplot(data = fuel_data) +
geom_point(aes(x=year, y=hwy))
full_data <- read_csv(file = "./Data/vehicles.csv")
library(tidyverse)
fuel_data <- mpg
fuel_data <- mpg
#view(fuel_data)
str(fuel_data)
n_rows <- nrow(fuel_data)
n_cols <- ncol(fuel_data)
dim(fuel_data)[2]
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
library(tidyverse)
fuel_data <- mpg
fuel_data <- mpg
#view(fuel_data)
str(fuel_data)
n_rows <- nrow(fuel_data)
n_cols <- ncol(fuel_data)
dim(fuel_data)[2]
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy, color = class ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy, color = year ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy )) +
facet_wrap(~class)
us_makes <- c("chevrolet","dodge","ford","jeep",
"lincoln","mercury","pontiac"
)
fuel_data <- mutate(fuel_data,
region = if_else(manufacturer %in%
us_makes, "US", "Foreign"))
ggplot(data = fuel_data) +
geom_point(aes(x = cty, y = hwy, color = region ))
ggplot(data = fuel_data) +
geom_point(aes(x = cty, y = hwy, color = region ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy),color = "purple")
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy),color = "green")
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy,color = region))
ggplot(data = fuel_data) +
geom_boxplot(aes(x=region,y=hwy))
library(tidyverse)
fuel_data <- mpg
fuel_data <- mpg
#view(fuel_data)
str(fuel_data)
n_rows <- nrow(fuel_data)
n_cols <- ncol(fuel_data)
dim(fuel_data)[2]
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
library(tidyverse)
fuel_data <- mpg
fuel_data <- mpg
#view(fuel_data)
str(fuel_data)
n_rows <- nrow(fuel_data)
n_cols <- ncol(fuel_data)
dim(fuel_data)[2]
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy/fuel_data$cty
fuel_data <- mutate(fuel_data, hwy2cty = hwy/cty)
summary(fuel_data)
min(fuel_data$hwy2cty)
max(fuel_data$hwy2cty)
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy, color = class ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy, color = year ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy )) +
facet_wrap(~class)
us_makes <- c("chevrolet","dodge","ford","jeep",
"lincoln","mercury","pontiac"
)
fuel_data <- mutate(fuel_data,
region = if_else(manufacturer %in%
us_makes, "US", "Foreign"))
ggplot(data = fuel_data) +
geom_point(aes(x = cty, y = hwy, color = region ))
ggplot(data = fuel_data) +
geom_point(aes(x = cty, y = hwy, color = region ))
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy),color = "purple")
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy),color = "green")
ggplot(data = fuel_data) +
geom_point(aes(x = displ, y = hwy,color = region))
ggplot(data = fuel_data) +
geom_boxplot(aes(x=region,y=hwy))
library(tidyverse)
fuel_data <- mpg
fuel_data
n_rows <- nrow(fuel_data)
n_cols <- ncol(fuel_data)
n_rows
n_cols
summary(fuel_data)
fuel_data$hwy2cty <- fuel_data$hwy / fuel_data$cty
# or fuel_data <- mutate(fuel_data, hwy2cty = hwy / cty)
summary(fuel_data)
#min min(fuel_data$hwy2cty) alt  method
ggplot(data = fuel_data)+
geom_point(aes(x = displ, y = hwy))
ggplot(data = fuel_data)+
geom_point(aes(x = displ, y = hwy, color = year))
ggplot(data = fuel_data)+
geom_point(aes(x = displ, y = hwy))+
facet_wrap(~class)
summary(fuel_data[1])
us_makes <- c("chevrolet", "dodge", "ford", "jeep", "lincoln", "mercury", "pontiac")
fuel_data <- mutate(fuel_data, region = if_else(manufacturer %in% us_makes, "US", "Foreign"))
ggplot(data = fuel_data)+
geom_point(aes(x = cty, y = hwy , color = region))
us_makes <- c("chevrolet", "dodge", "ford", "jeep", "lincoln", "mercury", "pontiac")
german_makes <- c("audi", "passat", "volkswagen" )
korea_makes <- c("hyundai")
england_makes <-  c("land rover")
japan_makes <- c("nissan","subaru", "toyota", "honda")
fuel_data <- mutate(fuel_data, region = case_when(manufacturer %in% us_makes ~ "US",
manufacturer %in% german_makes ~ "Germany",
manufacturer %in% korea_makes ~ "Korea",
manufacturer %in% england_makes ~ "England",
manufacturer %in% japan_makes ~ "Japan"
)
)
ggplot(data = fuel_data)+
geom_point(aes(x = cty, y = hwy , color = region)) +
geom_abline(slope = 1, intercept = 0, color = "red")
library(tidyverse)
library(ggplot2)
### Load in our data
fuel_data <- mpg
### examine the data
str(fuel_data)
head(fuel_data)
knitr::opts_chunk$set(comment=NA, fig.width=5.5, fig.height=4.5)
library(tidyverse)
library(gapminder)
my_gap <- gapminder # assign the gapminder data to our own data object called my_gap
my_gap %>%
ggplot(aes(x = year, y = lifeExp)) +
geom_line()
my_gap %>%
ggplot(aes(x = year, y = lifeExp, color = country)) +
geom_line() +
theme(legend.position = "none") # turning off the legend
my_gap %>%
ggplot(aes(x = year, y = lifeExp, group = country)) +
geom_line()
my_gap %>%
ggplot(aes(x = year, y = lifeExp, group = country, color = continent)) +
geom_line()
my_gap %>%
ggplot(aes(x = year, y = lifeExp, group = country, color = continent)) +
geom_line(alpha = 0.4) +
geom_smooth(aes(group = continent)) +
theme_bw()
my_gap %>%
filter(continent == "Americas", year == 2007) %>%
ggplot(aes(x = lifeExp, y = country)) +
geom_point() +
theme_bw()
my_gap %>%
filter(continent == "Americas", year == 2007) %>%
ggplot(aes(x = lifeExp, y = reorder(country,lifeExp) )) +
geom_point() +
theme_bw()
my_gap %>%
ggplot(aes(x = gdpPercap, y = lifeExp)) +
geom_point() +
theme_bw()
my_gap %>% ggplot(aes(x = gdpPercap, y = lifeExp)) +
geom_point() +
theme_bw() +
facet_wrap(~ continent)
my_gap %>%
filter(year%in% c(1952, 1972, 1992, 2002)) %>%
ggplot(aes(x = gdpPercap, y = lifeExp)) +
geom_point() +
theme_bw() +
facet_grid(continent ~ year)
global_mean_gdpPercap <- my_gap %>%
group_by(year) %>%
summarize(gdpPercap = mean(gdpPercap))
my_gap %>%
ggplot(aes(x = year, y = gdpPercap, group = country)) +
geom_point(alpha = 0.5) +
geom_line(alpha = 0.5) +
geom_line(data = global_mean_gdpPercap,
aes(x = year, y = gdpPercap, group = NA),
color = "blue",
size = 1) +
geom_point(data = global_mean_gdpPercap,
aes(x = year, y = gdpPercap, group = NA),
color = "blue",
size = 1.5) +
ylim(NA, 50000) +
theme_bw() +
facet_wrap(~ continent)
# Look just at the Americas to simply make the graphic less "crowded" with data
gap_americas <- my_gap %>%
filter(continent == "Americas")
gap_americas %>%
ggplot(aes(x = gdpPercap, y = lifeExp)) +
geom_point() +
geom_vline(xintercept = 10000, color = "blue")
fig_americas <- gap_americas %>%
ggplot(aes(x = gdpPercap, y = lifeExp)) +
geom_point() +
geom_vline(xintercept = 10000, color = "blue")
fig_americas
fig_americas +
geom_hline(yintercept = 65, color = "red")
library(kableExtra)
life_exp_table <- my_gap %>%
filter(year %in% c(1952,2007)) %>%
group_by(country) %>%
arrange(country, year) %>%
summarize(continent = first(continent), life_1952 = first(lifeExp), life_2007 = last(lifeExp))
head(life_exp_table) %>% kable() %>% kable_styling()
life_exp_table %>%
ggplot(aes(x = life_1952, y = life_2007)) +
geom_point() +
theme_bw()
life_exp_table %>%
ggplot(aes(x = life_1952, y = life_2007)) +
geom_point() +
geom_abline(slope = 1, intercept = 0, color = "red") +
theme_bw()
fig_gap <- my_gap %>%
ggplot(aes(x = gdpPercap, y = lifeExp)) +
geom_point() +
theme_bw() # let's save our "base/template" figure to an object so we can easily adapt it while typing less code
fig_gap
fig_gap +
xlim(0, 60000)
fig_gap +
xlim(0, 60000) +
ylim(30,80)
fig_gap +
ylim(60,NA)
fig_gap
fig_gap +
scale_x_log10()
bangladesh_gw <- read_csv("https://stahlm.github.io/ENS_215/Data/NationalSurveyData_DPHE_BGS_LabData.csv")
As_fig <- bangladesh_gw %>%
ggplot(aes(x = As_ugL, y = WELL_DEPTH_m)) +
geom_point() +
theme_bw()
As_fig
As_fig <- As_fig +
scale_y_reverse() # reverse the y-axis and update As_fig
As_fig
As_fig +
coord_flip()
As_fig <- As_fig +
labs(title = "Groundwater arsenic in Bangladesh",
subtitle = "Arsenic vs. depth",
x = "As (ug/L)",
y = "Depth (m)",
caption = "Data source: BGS")
As_fig
library(tidyverse)
df_met <- read_csv("https://github.com/stahlm/stahlm.github.io/raw/master/ENS_215/Data/Albany_GHCND_2840632.csv")
year_vec <- seq(1939, 2021)
year_vec
table_stats <- tibble(year = year_vec,
n_days = NA,
n_events = NA)
threshold_min <- 32
for (i_year in year_vec) {
df_temp <- df_met[df_met$YEAR == i_year, ] # current year's data
i_count <- sum(df_temp$TMIN <= threshold_min)
#print(i_count)
i_days <- nrow(df_temp)
#print(i_days)
table_stats$n_events[table_stats$year == i_year] <- i_count
table_stats$n_days[table_stats$year == i_year] <- i_days
}
table_stats %>%
ggplot(aes(x = year, y = n_events)) +
geom_point() + geom_smooth()
library(tidyverse)
library(gapminder)
gap_data <- gapminder
gap_data %>%
ggplot(aes(x = gdpPercap, y = lifeExp)) +
geom_point()
gap_data %>%
filter(country == "China") %>%
ggplot(aes(x = year, y = pop))
gap_data %>%
filter(country == "China") %>%
ggplot(aes(x = year, y = pop)) +
geom_line()
gap_data %>%
filter(country == "Nigeria") %>%
ggplot(aes(x = year, y = pop)) +
geom_line()
gap_data %>%
filter(country == "Lesotho") %>%
ggplot(aes(x = year, y = pop)) +
geom_line()
gap_data %>%
filter(country == "China") %>%
ggplot(aes(x = year, y = pop)) +
geom_line()
gap_data %>%
filter(country == "China") %>%
ggplot(aes(x = year, y = pop)) +
geom_line() +
geom_point()
gap_data %>%
filter(year == 2007) %>%
ggplot(aes(x = continent)) +
geom_bar()
library(tidyverse)
library(gapminder)
gap_data <- gapminder
gap_data %>%
filter(country == "China") %>%
ggplot(aes(x = year, y = pop)) +
geom_line()
gap_data %>%
filter(country == "China") %>%
ggplot(aes(x = year, y = pop)) +
geom_line() +
geom_point()
